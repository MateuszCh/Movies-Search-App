!function(e){function t(){for(var t=0;t<b.length;t++)if("movie"==b[t].Type||"series"==b[t].Type){var s=e("<li data-number='"+t+"'></li>");"N/A"==b[t].Poster?e(s).append("<div><div class='noPhotoSmall'>NO POSTER</div></div>"):e(s).append("<figure><img class='smallPhoto' src='"+b[t].Poster+"'></figure>"),e(s).append("<span class='resultsListTitleAndYear'><span>"+b[t].Title+"</span><span>"+b[t].Year+"</span></span>"),e("#resultsList").append(s),m++}}function s(t,s){var o,a,n,r=10;for("movie"==s?(o="images/green-star.png",a="images/green-star-half.png",n="images/green-star-empty.png"):(o="images/pink-star.png",a="images/pink-star-half.png",n="images/pink-star-empty.png");1<=t;)e("#stars").append("<img src='"+o+"'>"),r--,t--;for(t>=.5&&(e("#stars").append("<img src='"+a+"'>"),r--);r>0;)e("#stars").append("<img src='"+n+"'>"),r--}function o(t){if("N/A"==t)e("#duration").text(t);else{t=t.substring(0,t.indexOf(" "));var s=Math.floor(t/60),o=t%60;s>0?0==o?e("#duration").text(s+"h"):e("#duration").text(s+"h "+o+"min"):e("#duration").text(o+"min")}}function a(t){var s=e(".kadr img"),o=e("#searchButton");"series"==t?(e(o).css("background-color","#D4145A"),e(s).attr("src","images/logo2.svg")):(e(o).css("background-color","#00A99D"),e(s).attr("src","images/logo1.svg"))}function n(e){var t;return t=e%10==0?e/10:Math.floor(e/10)+1}function r(t){e("#numberOfPage").removeClass("hideButton").text(t)}function i(t){e("#previous, #next").removeClass("hideButton").prop("disabled",!1),1==c&&e("#previous").addClass("hideButton").prop("disabled",!0),c==t&&e("#next").addClass("hideButton").prop("disabled",!0)}function p(){g.append("<p class='notFound'>No movie or series found!</p>"),e("#previous, #next").addClass("hideButton").prop("disabled",!0),e("#numberOfPage").addClass("hideButton")}function d(t){e("html, body").stop().animate({scrollTop:0},t)}var l,c,u,m,h,g=e("#searchResult"),f=e("#resultsFor"),v=e("#loadingResults"),b=[];e("#closeSearchResult").on("click",function(){e(".wrapper").show(),d(1),g.fadeOut(500,function(){e(".notFound").remove(),e("#resultsList").empty()})}),e("#searchButton").on("click",function(s){s.preventDefault();var o=e("#searchText");l=e.trim(o.val()).toLowerCase(),l&&(e(v).show(),e.getJSON("http://www.omdbapi.com/?s="+encodeURI(l)).then(function(s){e(v).hide().addClass("dark"),"True"==s.Response?(c=1,m=0,b=s.Search,u=parseInt(s.totalResults),h=n(u),t(),r(c),i(h),m||1!=h||p()):"False"==s.Response&&p(),f.text("Results for '"+l+"':"),g.fadeIn(500,function(){e(".wrapper").hide()})})),o.val("")}),e(".prevAndNext button").on("click",function(){e(v).show(),e(this).hasClass("previous")?c--:c++,e.getJSON("http://www.omdbapi.com/?s="+encodeURI(l)+"&page="+c).then(function(s){d(500),e("#resultsList").empty(),e(v).hide(),m=0,b=s.Search,t(),m||g.append("<p class='notFound'>No movie or series found!</p>"),r(c),i(h)})}),e("#resultsList").on("click","li",function(){e(v).show(),e("#mainHeader").remove(),e(".wrapper").removeClass("gradientBackground").addClass("backgroundPhoto"),e(".kadr, .app, .searchBox").addClass("show"),e("form").removeClass("show"),e("#filmsPoster").remove(),e("#noPhoto").remove(),e("#stars").empty();var t=e(this).closest("li").data("number");t=b[t].imdbID,e.getJSON("http://www.omdbapi.com/?i="+encodeURI(t)).then(function(t){a(t.Type),e(v).hide(),e("#title").html(t.Title+"<span class='year'> ("+t.Year+")</span>"),o(t.Runtime),e(".details p:nth-child(1)").show(),e("#director").text(t.Director),e("#genre").text(t.Genre),e("#premiere").text(t.Released),e("#plot").text(t.Plot),"N/A"!=t.imdbRating?(e("#votes").text(t.imdbVotes+" votes"),s(t.imdbRating,t.Type)):(e("#votes").empty(),e("#stars").empty()),"N/A"==t.Poster?e(".poster").append("<span id='noPhoto'>No Photo Available</span>"):e(".poster").append("<img src='"+t.Poster+"' id='filmsPoster'>"),e("#closeSearchResult").click()})})}(jQuery);